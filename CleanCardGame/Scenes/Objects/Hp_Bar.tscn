[gd_scene load_steps=4 format=1]

[ext_resource path="res://Resources/Bar_Under.png" type="Texture" id=1]
[ext_resource path="res://Resources/Bar_Over.png" type="Texture" id=2]

[sub_resource type="GDScript" id=1]

resource/name = "hp_script"
script/source = "extends Node2D

var new_val
var curr_hp

func _ready():
	pass
func _process(delta):
	curr_hp = get_node(\"TextureProgress\").get_value()
	get_node(\"TextureProgress\").set_value(curr_hp - (int(curr_hp-new_val)*delta))
	
	if  curr_hp <= new_val:
		set_process(false)
	pass

func update_hp(hp):
	set_process(true)
	new_val = hp
	pass

func create_hp(max_hp):
	get_node(\"TextureProgress\").set_max(max_hp)
	get_node(\"TextureProgress\").set_value(max_hp)
	pass

func _on_TextureProgress_changed():
	pass # replace with function body
"

[node name="Hp_Bar" type="Node2D"]

script/script = SubResource( 1 )

[node name="TextureProgress" type="TextureProgress" parent="."]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 40.0
margin/bottom = 40.0
range/min = 0.0
range/max = 50.0
range/step = 1.0
range/page = 0.0
range/value = 50.0
range/exp_edit = false
range/rounded = false
texture/under = ExtResource( 1 )
texture/over = ExtResource( 1 )
texture/progress = ExtResource( 2 )
radial_fill/fill_degrees = 360.0
radial_fill/center_offset = Vector2( 0, 0 )


